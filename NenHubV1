--
local UIS = game:GetService("UserInputService")
local Mouse = Plr:GetMouse()

local NameButtons = { 'AutoFarm', 'Locations', 'Player', 'Credits' }
local Stats = { 'Strength', 'Durability', 'Agility', 'Nen' }
local PlayerPoints = {}
local Locations =
{
  'Gym', '5x  (0 Str & Dur)', 'GymZone',
  'Swamp', '10x  (10k Str)', 'SwampZone',
  'GonHouse', '10x  (10k Dur)', 'GonHouseZone',
  '', '', '',
  'Willow', '20x  (0 Nen)', 'WillowZone',
  'Arm Wrestling', '20x  (30k Str)', 'ArmWrestlingZone',
  'Crater', '20x  (30k Dur)', 'NenImpactZone',
  '', '', '',
  'Nostrade Garden', '50x  (1M Nen)', 'MansionZone',
  'Troupe Standoff', '50x  (1M Str)', 'StandoffZone',
  'Ice Ruins', '50x  (1M Dur)', 'IceRuinsZone',
  '', '', '',
  'Wetlands', '100x  (50M Nen)', 'WetlandsZone',
  'Trick Tower', '100x  (50M Str)', 'TrickZone',
  'Zevil Island', '100x  (50M Dur)', 'ZevilZone',
  '', '', '',
  'Badlands', '400x  (1B Nen)', 'BadlandsZone',
  'Town of Prizes', '400x  (1B Str)', 'PrizeZone',
  'Nen Dodgeball', '400x  (1B Dur)', 'DodgeballZone',
  '>', '', '',
  'Running Path', '5x (1k Agility)', 'TrailZone',
}
local StatsActive = {}
local Chapters = {}
local EndProgram = false

-- Colors
local Grey = Color3.fromRGB(45, 45, 45)

local WorkPanel = Instance.new("Frame", Plr.PlayerGui.NenHub.Background.LoadingPanel)
WorkPanel.Name = "WorkPanel"
WorkPanel.Parent = Background
WorkPanel.BackgroundTransparency = 1.000
WorkPanel.Position = UDim2.new(0.25999999, 0, 0.125, 0)
WorkPanel.Size = UDim2.new(0, 370, 0, 350)

--Chapters
for _, NameChapter in pairs(NameButtons) do
  local Chapter = Instance.new('Frame', WorkPanel)
  Chapter.Name = NameChapter .. 'Chapter'
  Chapter.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
  Chapter.BackgroundTransparency = 1
  Chapter.Size = UDim2.new(0, 370, 0, 350)
  if NameChapter == 'AutoFarm' then
    Chapter.Visible = true
  else
    Chapter.Visible = false
  end


  Chapters[NameChapter .. 'Chapter'] = Chapter
end

--AutoFarm Chapter
for _, Stat in pairs(Stats) do
  local StatButton = Instance.new("TextButton", Chapters['AutoFarmChapter'])

  StatButton.Name = Stat .. 'Button'
  StatButton.BackgroundColor3 = Grey
  StatButton.BorderSizePixel = 0
  StatButton.Position = UDim2.new(0.0740540554, 0, 0, (_ - 1) * 80 + 15)
  StatButton.Size = UDim2.new(0, 300, 0, 50)
  StatButton.Font = Enum.Font.FredokaOne
  StatButton.Text = "    Auto " .. Stat
  StatButton.TextColor3 = White
  StatButton.TextSize = 29.000
  StatButton.TextXAlignment = Enum.TextXAlignment.Left
  StatsActive[Stat] = false

  UICorner(StatButton)

  local Blank = Instance.new("Frame", StatButton)
  Blank.Name = "Blank"
  Blank.BackgroundColor3 = White
  Blank.Position = UDim2.new(0.830360353, 0, 0.18571429, 0)
  Blank.Size = UDim2.new(0, 30, 0, 30)

  UICorner(Blank)

  StatButton.Activated:Connect(function()
    if StatsActive[Stat] then
      Blank.BackgroundColor3 = White
      StatsActive[Stat] = false
    else
      Blank.BackgroundColor3 = Red
      StatsActive[Stat] = true
      while StatsActive[Stat] do
        game:GetService("ReplicatedStorage").Remotes.train:FireServer(string.sub(Stat, 1, 3):lower())
        wait(0.1)
      end
    end
  end)

end

--Locations Chapter
local function CreateLocationsChapter()
  local Pages = {}
  local CurrentPage = nil
  local CreatePage = function()
    local Page = Instance.new('Frame', Chapters['LocationsChapter'])
    Page.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    Page.BackgroundTransparency = 1
    Page.Size = UDim2.new(0, 370, 0, 350)
    Page.Visible = false
    for _ = 1, #Pages + 1 do
      if Pages[_] == nil then
        CurrentPage = Page
        Pages[_] = Page
        Page.Name = _ .. 'Page'

        local PageTop = Instance.new('Frame', TopPages)
        PageTop.Visible = false
        PageTop.Name = _ .. 'Page'
        PageTop.Size = UDim2.new(0, 330, 0, 50)
        PageTop.BackgroundTransparency = 1

        local NumberPage = Instance.new('TextLabel', PageTop)
        NumberPage.Name = _
        NumberPage.Text = _
        NumberPage.Font = Enum.Font.FredokaOne
        NumberPage.TextColor3 = White
        NumberPage.BorderSizePixel = 0
        NumberPage.TextSize = 30
        NumberPage.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
        NumberPage.Size = UDim2.new(0, 50, 0, 40)
        NumberPage.Position = UDim2.new(0.5, 0, 0.1, 0)

        if _ == 1 then
          local NextPageButton = Instance.new('TextButton', PageTop)
          NextPageButton.Name = 'NextPageButton'
          NextPageButton.Text = '>'
          NextPageButton.Font = Enum.Font.FredokaOne
          NextPageButton.TextColor3 = White
          NextPageButton.BackgroundTransparency = 1
          NextPageButton.TextSize = 30
          NextPageButton.Size = UDim2.new(0, 50, 0, 35)
          NextPageButton.Position = UDim2.new(0.65, 0, 0.1, 0)
          NextPageButton.TextYAlignment = 'Bottom'
          NextPageButton.Activated:Connect(function()
            Page.Visible = false
            PageTop.Visible = false
            Pages[_ + 1].Visible = true
            TopPages[(_ + 1) .. 'Page'].Visible = true
          end)
          Page.Visible = true
          PageTop.Visible = true
        else
          local LastPageButton = Instance.new('TextButton', PageTop)
          LastPageButton.Name = 'LastPageButton'
          LastPageButton.Text = '<'
          LastPageButton.Font = Enum.Font.FredokaOne
          LastPageButton.TextColor3 = White
          LastPageButton.TextSize = 30
          LastPageButton.BackgroundTransparency = 1
          LastPageButton.Size = UDim2.new(0, 50, 0, 40)
          LastPageButton.Position = UDim2.new(0.35, 0, 0.1, 0)
          LastPageButton.TextYAlignment = 'Center'
          LastPageButton.Activated:Connect(function()
            Page.Visible = false
            PageTop.Visible = false
            Pages[_ - 1].Visible = true
            TopPages[(_ - 1) .. 'Page'].Visible = true
          end)
        end
      end
    end
  end

  CreatePage()
  local y = 0
  local x = 10
  for _ = 1, #Locations, 3 do
    if Locations[_] == '' then
      y = y + 70
      x = 10
    elseif Locations[_] == '>' then
      y = 0
      x = 10
      CreatePage()

    else
      local Button = Instance.new('TextButton', CurrentPage)
      Button.Name = Locations[_ + 2] .. 'Button'
      Button.BackgroundColor3 = Grey
      Button.BorderSizePixel = 0
      Button.Size = UDim2.new(0, 110, 0, 60)
      Button.Font = Enum.Font.FredokaOne
      Button.Text = Locations[_] .. '\n' .. Locations[_ + 1]
      Button.TextColor3 = White
      Button.Position = UDim2.new(0, x, 0, y)
      Button.TextSize = 15
      Button.TextXAlignment = Enum.TextXAlignment.Center
      x = x + 120

      UICorner(Button)
      Button.Activated:Connect(function()
        Plr.Character:MoveTo(workspace.Zones[Locations[_ + 2]].Position)
      end)
    end

  end
end

--CreateLocationsChapter()
--Player Chapter

local function CreatePlayerChapter()
  local y = 0
  local function PlayerStatButton(NameStat)
    local PlayerStatButton = Instance.new("Frame", Chapters['PlayerChapter'])
    PlayerStatButton.Name = NameStat
    PlayerStatButton.BackgroundColor3 = Grey
    PlayerStatButton.Position = UDim2.new(0, 5, 0, y)
    y = y + 61
    PlayerStatButton.Size = UDim2.new(0, 360, 0, 46)

    local Conteiner = Instance.new("Frame", PlayerStatButton)
    Conteiner.Name = "Conteiner"
    Conteiner.BackgroundTransparency = 1.000
    Conteiner.Position = UDim2.new(0.055555556, 0, 0.260869563, 0)
    Conteiner.Size = UDim2.new(0, 320, 0, 26)

    local Slider = Instance.new("ImageLabel", Conteiner)
    Slider.Name = "Slider"
    Slider.BackgroundColor3 = White
    Slider.BorderSizePixel = 0
    Slider.Position = UDim2.new(0, 0, 0.780768752, 0)
    Slider.Size = UDim2.new(0, 320, 0, 6)
    Slider.Image = "rbxasset://textures/ui/GuiImagePlaceholder.png"

    local Title = Instance.new("TextLabel")
    Title.Name = "Title"
    Title.Parent = Slider
    Title.BackgroundTransparency = 1.000
    Title.Position = UDim2.new(-0.00131944264, 0, -4.36956549, 0)
    Title.Size = UDim2.new(0, 76, 0, 26)
    Title.Font = Enum.Font.FredokaOne
    Title.Text = NameStat .. ": "
    Title.TextColor3 = White
    Title.TextSize = 14.000

    local Number = Instance.new("TextBox", Slider)
    Number.Name = "Number"
    Number.BackgroundTransparency = 1.000
    Number.Position = UDim2.new(0.233125001, 0, -4.4000001, 0)
    Number.Size = UDim2.new(0, 31, 0, 26)
    Number.Font = Enum.Font.FredokaOne
    Number.Text = "1000"
    Number.TextColor3 = Color3.fromRGB(255, 255, 255)
    Number.TextSize = 14.000

    local SliderButton = Instance.new("TextButton", Slider)
    SliderButton.Name = "SliderButton"
    SliderButton.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    SliderButton.BorderSizePixel = 0
    SliderButton.Size = UDim2.new(0, 320, 0, 6)
    SliderButton.Text = ""

    local SliderInner = Instance.new("Frame", SliderButton)
    SliderInner.Name = "SliderInner"
    SliderInner.Parent = SliderButton
    SliderInner.BackgroundColor3 = Red
    SliderInner.BorderSizePixel = 0
    SliderInner.Size = UDim2.new(0, 320, 0, 6)

    PlayerPoints[NameStat] = Plr.Character.Humanoid[NameStat]
    Number.Text = PlayerPoints[NameStat]

    SliderInner.Size = UDim2.new(0, math.floor(PlayerPoints[NameStat] / 3.125), 0, 6)
    local function GetSize()
      return UDim2.new(0, math.clamp(Mouse.X - SliderInner.AbsolutePosition.X, 0, 320), 0, 6)
    end

    SliderButton.MouseButton1Down:Connect(function()
      SliderInner.Size = GetSize()
      PlayerPoints[NameStat] = math.floor(
        1000 / 320 * SliderInner.AbsoluteSize.X)

      Number.Text = PlayerPoints[NameStat]
      MoveConnection = Mouse.Move:Connect(function()
        SliderInner.Size = GetSize()
        Number.Text = PlayerPoints[NameStat]
        PlayerPoints[NameStat] = math.floor(
          1000 / 320 * SliderInner.AbsoluteSize.X)
      end)
      ReleaseConnection = UIS.InputEnded:Connect(function(Input)
        if Input.UserInputType == Enum.UserInputType.MouseButton1 then
          SliderInner.Size = GetSize()
          PlayerPoints[NameStat] = math.floor(
            1000 / 320 * SliderInner.AbsoluteSize.X)
          Number.Text = PlayerPoints[NameStat]
          MoveConnection:Disconnect()
          ReleaseConnection:Disconnect()
        end
      end)
    end)

  end

  PlayerStatButton('WalkSpeed')
  PlayerStatButton('JumpPower')
end

CreatePlayerChapter()

local SidePanel = Instance.new("Frame", Background)
SidePanel.Name = "SidePanel"
SidePanel.BackgroundTransparency = 1.000
SidePanel.Position = UDim2.new(0, 0, 0.125, 0)
SidePanel.Size = UDim2.new(0, 130, 0, 350)

for _, NameButton in pairs(NameButtons) do
  local Button = Instance.new('TextButton', SidePanel)
  Button.Name = NameButton .. 'Button'
  if NameButton == 'AutoFarm' then
    Button.BackgroundColor3 = Red
  else
    Button.BackgroundColor3 = BlackG
  end

  Button.BorderSizePixel = 0
  Button.Position = UDim2.new(0, 0, 0, (_ - 1) * 50)
  Button.Size = UDim2.new(0, 130, 0, 50)
  Button.Font = Enum.Font.FredokaOne
  Button.Text = NameButton
  Button.TextColor3 = White
  Button.TextSize = 28.000
  Button.TextWrapped = true

  UICorner(Button)

  Button.Activated:Connect(function()
    if Chapters[NameButton .. 'Chapter'].Visible then return end
    for _, Chapter in pairs(Chapters) do
      Chapter.Visible = false
    end
    Chapters[NameButton .. 'Chapter'].Visible = true

    for _, OtherButton in pairs(SidePanel:GetChildren()) do
      OtherButton.BackgroundColor3 = BlackG
    end
    Button.BackgroundColor3 = Red
    if NameButton == 'Locations' then
      TopPages.Visible = true
    else
      TopPages.Visible = false
    end
  end)
end

while game:GetService('RunService').RenderStepped:Wait() do
  Plr.Character.Humanoid.JumpPower = PlayerPoints['JumpPower']
  Plr.Character.Humanoid.WalkSpeed = PlayerPoints['WalkSpeed']
  if EndProgram then break end
end
